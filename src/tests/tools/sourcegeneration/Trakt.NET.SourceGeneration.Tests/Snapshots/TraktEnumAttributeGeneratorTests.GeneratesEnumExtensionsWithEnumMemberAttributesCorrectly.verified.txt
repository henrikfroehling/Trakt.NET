//-----------------------------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a Trakt.NET source generator.
//     Changes to this file may cause incorrect behavior and will be lost if the code is regenerated.
// </auto-generated>
//-----------------------------------------------------------------------------------------------------

#nullable enable

using System.Text.Json;
using System.Text.Json.Serialization;

namespace SourceGeneraterTestNamespace
{
    /// <summary>Extension methods for <see cref="TestEnumWithCustomMembers" />.</summary>
    public static partial class TestEnumWithCustomMembersExtensions
    {
        /// <summary>Returns the Json value for <see cref="TestEnumWithCustomMembers" />.</summary>
        public static string? ToJson(this TestEnumWithCustomMembers value)
            => value switch
            {
                TestEnumWithCustomMembers.Unspecified => null,
                TestEnumWithCustomMembers.ValueOne => "first_value",
                TestEnumWithCustomMembers.ValueTwo => "second_value",
                _ => null,
            };

        /// <summary>Returns a <see cref="TestEnumWithCustomMembers" /> for the given value, if possible.</summary>
        public static TestEnumWithCustomMembers ToTestEnumWithCustomMembers(this string? value)
            => value switch
            {
                "unspecified" => TestEnumWithCustomMembers.Unspecified,
                "first_value" => TestEnumWithCustomMembers.ValueOne,
                "second_value" => TestEnumWithCustomMembers.ValueTwo,
                _ => TestEnumWithCustomMembers.Unspecified,
            };

        /// <summary>Returns the display name for <see cref="TestEnumWithCustomMembers" />.</summary>
        public static string DisplayName(this TestEnumWithCustomMembers value)
            => value switch
            {
                TestEnumWithCustomMembers.Unspecified => "Unspecified",
                TestEnumWithCustomMembers.ValueOne => "Value One",
                TestEnumWithCustomMembers.ValueTwo => "Value Nr. 2",
                _ => value.ToString(),
            };
    }

    /// <summary>JSON converter for <see cref="TestEnumWithCustomMembers" />.</summary>
    public sealed class TestEnumWithCustomMembersJsonConverter : JsonConverter<TestEnumWithCustomMembers>
    {
        public override bool CanConvert(Type typeToConvert) => typeof(TestEnumWithCustomMembers) == typeToConvert;

        public override TestEnumWithCustomMembers Read(ref Utf8JsonReader reader, Type typeToConvert, JsonSerializerOptions options)
        {
            string? enumValue = reader.GetString();
            return string.IsNullOrEmpty(enumValue) ? default : enumValue.ToTestEnumWithCustomMembers();
        }

        public override void Write(Utf8JsonWriter writer, TestEnumWithCustomMembers value, JsonSerializerOptions options)
            => writer.WriteStringValue(value.ToJson());
    }
}
